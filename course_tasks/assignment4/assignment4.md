# 作业4
班级： 网安2201
姓名： 常兆鑫
学号： 2226114409


---

## **题 5.1（2）**

**问题：语言 L = {0ⁿ1ⁿ | n ≥ 1} 是不是正则语言？为什么？**

### 解：

这个语言不是正则语言，理由如下：

###  利用泵引理（Pumping Lemma）反证法

设 L 是正则语言，根据正则语言的泵引理存在整数 p，使得任意长度 ≥ p 的字符串 s ∈ L 可分解为 s = xyz，满足：

1. |y| ≥ 1，
2. |xy| ≤ p，
3. ∀i ≥ 0，x yⁱ z ∈ L。

取 s = 0ᵖ1ᵖ ∈ L
由于 |xy| ≤ p，y 只能是全 0 构成的一段。设 y = 0ᵏ，k ≥ 1。

则 s' = x y² z = 0ᵖ⁺ᵏ1ᵖ，不再满足 0ⁿ1ⁿ 格式，即不属于 L，矛盾。

**因此 L 不是正则语言。**

---

## **题 5.4**

**问题：说明文法 E → E + E | E \* E | (E) | d 是歧义文法。**

### 解：

此文法是歧义文法。我们可以构造一个具有两棵不同语法树的句子来证明，如下所示：

###  构造句子：`d + d * d`

#### 第一棵语法树（\*优先于+）：

```
        E
      / | \
     E  +  E
         / | \
        E  *  E
        |     |
        d     d
     |
     d
```

对应最左推导：

```
E ⇒ E + E ⇒ d + E ⇒ d + E * E ⇒ d + d * d
```

#### 第二棵语法树（+先计算）：

```
        E
      / | \
     E  *  E
   / | \
  E  +  E
  |     |
  d     d
         |
         d
```

对应最左推导：

```
E ⇒ E * E ⇒ E + E * E ⇒ d + d * d
```

由于存在两棵不同的语法树，因此文法是**歧义的**。

---

## **题 5.6**

**问题：构造一个无歧义文法来表示表达式的 + 和 \* 运算，其中 \* 的优先级高于 +，两个操作符均为左结合。**

### 解：

为体现不同优先级及结合性，使用如下分层结构：

```
E → E + T | T               // E 表达式层（处理 +）
T → T * F | F               // T 项层（处理 *）
F → (E) | d                // F 因子层（括号或基本项）
```

### 构造一个句子的推导：`d + d * d`

```
E ⇒ E + T ⇒ T + T ⇒ F + T ⇒ d + T ⇒ d + T * F ⇒ d + F * F ⇒ d + d * d
```

---

下面我们结合项目文件内容与上下文无关文法（CFG）的知识点，完整解答图片中的 **题 5.7、5.8、5.10、5.13**：

---

## 题 5.7

**题干**：证明习题 5.6 中的文法识别的语言是串的任何前缀所包含的 `a` 个数不少于 `b` 个数的所有串。

### 给定文法：

```
S → aS | aSbS | ε
```

要证明：

* 对于所有 w ∈ L(G)，w 的每一个前缀 α，都有：

  ```
  #a(α) ≥ #b(α)
  ```

### 证明如下：

#### 归纳基础：

* 若 w = ε ∈ L(G)，其前缀只有 ε，满足 #a = #b = 0。

#### 归纳假设：

* 对于所有长度 ≤ n 的串 w ∈ L(G)，其每个前缀都有 #a ≥ #b。

#### 归纳步骤：

考虑长度为 n+1 的串 w ∈ L(G)。由文法可知，w 可以是以下之一：

1. `aS`：即 w = a·x，x ∈ L(G)

   * 前缀包括 `a` 和 `a·x` 的前缀。
   * 显然 #a(a) = 1 > 0 = #b(a)
   * x 满足归纳假设，其前缀也满足 #a ≥ #b
   * 所以 w 前缀也满足。

2. `aSbS`：

   * w = a·x·b·y，其中 x, y ∈ L(G)
   * 构造过程中每加一个 b 必须前面有 a 配对，否则无法从产生式衍生
   * 所以对每个前缀仍满足 #a ≥ #b

因此，归纳成立，证毕。

---

## 题 5.8

**题干**：分析习题 5.6 中的文法是否有歧义性。

### 文法：

```
S → aS | aSbS | ε
```

### 解：

我们试一个例子：

串 `aab`：

* 推导 1：

  ```
  S ⇒ aSbS ⇒ aaSbSbS ⇒ aaεbε ⇒ aab
  ```

* 推导 2：

  ```
  S ⇒ aS ⇒ aaSbS ⇒ aaεb ⇒ aab
  ```

这两个推导对应的语法树结构不同，因此文法有 **歧义性**。

 **结论**：**该文法是歧义的**。

---

## 题 5.10

给定文法：

```
G: S → AS | aA | ε
    A → aAS | b
```

---

### **(1) 写出 e̅G ：去除 ε-产生式**

#### 可空变元：

* S → ε
* 所以 S 是可空
* A → aAS：A 不是可空（右部含 A 和 S，S 可空，但 A 不可空）

#### 步骤：

S 的所有产生式变形：

* S → AS → A (S 可空)
* S → aA
* S → ε（去除）

A 的产生式不变：

最终：

```
S → AS | A | aA
A → aAS | aA | b
```

---

### **(2) 写出 u̅e̅G ：去除单位产生式**

单位产生式：S → A

我们将 A 的非单位产生式加入 S：

* A → aAS | aA | b ⇒ 加入 S：

结果：

```
S → AS | aA | aAS | aA | b
A → aAS | aA | b
```

可合并去重：

```
S → AS | aA | aAS | b
A → aAS | aA | b
```

---

### **(3) 写出 ag̅u̅e̅G ：再去除无用符号**

检查有产出性和可达性：

* 所有变元（S, A）都能推导出终结符串（如 aab）

 **综上，可得：**

```
S → AS | aA | aAS | b
A → aAS | aA | b
```

---

## 题 5.13

原文法如下：

```
S → aAa | bBb | ε
A → aA | C
B → bB | ε
C → CDE | ε
D → A | B
```

---

### 步骤 1：去 ε 产生式（e̅G）

**可空变元**：

* B → ε ⇒ B 可空
* C → ε ⇒ C 可空
* E 未定义，默认非空（若没提供候选式）

**替换规则**：

S：

* aAa | bBb | ε
* A 可空？否
* B 可空 ⇒ bBb ⇒ bB | bb

C → CDE | ε：

* CDE ⇒ CD、CE、DE、C、D、E

加入所有组合变形：

```
S → aAa | bBb | bB | bb | ε
A → aA | C
B → bB
C → CDE | CD | CE | DE | C | D | E | ε
D → A | B
```

---

### 步骤 2：去单位产生式（u̅）

单位产生式有：

* A → C
* D → A | B

替换 A、D 右部为 C、A、B 各自所有非单位候选式

如：

* C → ... ⇒ 复制给 A
* A → ... ⇒ 复制给 D

得到：

```
S → aAa | bBb | bB | bb | ε
A → aA | CDE | CD | CE | ...
D → aA | CDE | ... | bB
B → bB
C → CDE | ...
```

（省略重复变换后项）

---

### 步骤 3：去无用符号（ag̅）

判断：

* 所有非终结符最终都能推出 ε 或终结符串
* 也都可达（S ⇒ ... ⇒ 所有符号）

 **所以无需进一步删除**

---

**最终简化文法为：**

```
S → aAa | bBb | bB | bb | ε
A → aA | CDE | DE
B → bB
C → CDE | DE
D → aA | bB | CDE | DE
```
---


