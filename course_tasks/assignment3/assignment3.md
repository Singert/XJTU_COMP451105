# 作业 3 

---

## **题4.2**



### **一、题目要求**

构造一个联合DFA，识别如下语言集合：

* `ADD`：加号（+）
* `SDI`：符号整数（Signed Decimal Integer）
* `SDF`：符号定点数（Signed Decimal Float）

并使用该DFA对输入串 `12+34.0+.56#` 进行分析，写出运行结果。

---

### **二、词法单元定义**

根据例4.2及图4.3可得以下正则定义：

* **ADD**：加号

  ```
  +
  ```

* **UDI**（Unsigned Decimal Integer）：

  ```
  0 | [1-9][0-9]*
  ```

* **UDF**（Unsigned Decimal Float）：

  ```
  <UDI> . 0 | <UDI> . <tail> | 0 . <tail>，
  其中 tail = [0-9]*[1-9]
  ```

* **SDI**（Signed Decimal Integer）：

  ```
  [+-]? UDI
  ```

* **SDF**（Signed Decimal Float）：

  ```
  [+-]? UDF
  ```

---

### **三、自动机构造**

我们构建的 σ-DFA ：

* 能区分正/负号作为符号还是 `ADD` 词法单元；
* 能接受以 `+`、`-` 开头的整数或定点数；
* 能处理定点数如 `34.0`, `.56`（自动补零）；
* 根据最长匹配原则完成词法切分。

构造方法：

* 以图4.3所示 DFA 为基础，加入符号处理路径；
* 对于符号 `+` 和 `-`，若其后接数字或点号则作为 SDI 或 SDF，否则作为 `ADD`；
* 定义接受状态：

  * `b, c`：接受 SDI；
  * `e, f, g`：接受 SDF；
  * 独立处理 `+` 为 ADD。

我所构造的dfa可由dot定义转换为png给出
![](../assets/4.2.1.dot)

---

### **四、输入串分析**

分析输入串 `12+34.0+.56#`，按最长匹配、从左到右处理：

| 位置 | 输入片段   | 匹配单元          | 说明               |
| -- | ------ | ------------- | ---------------- |
| 0  | `12`   | `(SDI, 12)`   | 匹配无符号整数          |
| 2  | `+`    | `(ADD, +)`    | 独立加号             |
| 3  | `34.0` | `(SDF, 34.0)` | 定点数              |
| 7  | `+`    | `(ADD, +)`    | 独立加号             |
| 8  | `.56`  | `(SDF, .56)`  | 等价于 `0.56`，合法定点数 |
| 11 | `#`    | 终止符           | 不参与词法分析          |

分析过程同样可以由dot描述并转换为png给出
![](../assets/4.2.2.dot)

---

### **五、运行结果**

```
输入串: 12+34.0+.56#
输出词法单元序列如下：

(SDI, 12)
(ADD, +)
(SDF, 34.0)
(ADD, +)
(SDF, .56)
```


